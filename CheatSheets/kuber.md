# Архитектура и основные компоненты Kubernetes

 | Компонент | Описание |
 |----------------------------|--------------------------------------------------------------------------|
 | **Master Node** | Управляет кластером, содержит ключевые компоненты управления. |
 | kube-apiserver | Основной компонент, обрабатывает все API запросы. |
 | etcd | Хранилище данных для всех данных кластера. |
 | kube-scheduler | Назначает поды (Pods) на узлы (Nodes). |
 | kube-controller-manager | Управляет контроллерами, такими как Replication Controller. |
 | cloud-controller-manager | Управляет взаимодействием с облачными провайдерами. |
 | **Worker Node** | Выполняет контейнеры, управляет сетевыми и хранилищными ресурсами. |
 | kubelet | Агент, который запускает и управляет контейнерами на узле. |
 | kube-proxy | Управляет сетевыми правилами и маршрутизацией. |
 | **Pod** | Основная единица развертывания и управления в Kubernetes. |
 | **Service** | Определяет логическую группу подов и политику доступа к ним. |
 | **Deployment** | Управляет развертыванием и обновлением подов. |
 | **ReplicaSet** | Обеспечивает заданное количество реплик подов. |
 | **StatefulSet** | Управляет состоянием подов, поддерживает постоянные идентификаторы. |
 | **DaemonSet** | Обеспечивает запуск пода на каждом узле или подмножестве узлов. |
 | **ConfigMap** | Хранит конфигурационные данные в виде пар ключ-значение. |
 | **Secret** | Хранит конфиденциальные данные, такие как пароли и ключи. |
 | **Namespace** | Логическое разделение ресурсов в кластере. |
 | **Ingress** | Управляет внешним доступом к сервисам в кластере, обычно через HTTP/HTTPS. |

# Операции в Kubernetes

 | Операция | Описание | Для чего нужна | В каких компонентах используется | Как это делается |
 |---------------------------|--------------------------------------------------------------------------|-----------------------------------------------------------------------|-----------------------------------------------------------------------|-----------------------------------------------------------------------|
 | **kubectl create** | Создает новые ресурсы в кластере. | Создание новых подов, деплойментов, сервисов и других ресурсов. | kube-apiserver | `kubectl create deployment my-deployment --image=nginx` |
 | **kubectl get** | Получает информацию о ресурсах. | Просмотр текущего состояния ресурсов. | kube-apiserver | `kubectl get pods` |
 | **kubectl describe** | Показывает подробную информацию о ресурсе. | Получение детальной информации о конкретном ресурсе. | kube-apiserver | `kubectl describe pod my-pod` |
 | **kubectl apply** | Применяет конфигурацию к ресурсам. | Обновление или создание ресурсов на основе конфигурационных файлов. | kube-apiserver | `kubectl apply -f my-deployment.yaml` |
 | **kubectl delete** | Удаляет ресурсы из кластера. | Удаление подов, деплойментов, сервисов и других ресурсов. | kube-apiserver | `kubectl delete deployment my-deployment` |
 | **kubectl edit** | Редактирует ресурсы в реальном времени. | Изменение конфигурации ресурсов напрямую. | kube-apiserver | `kubectl edit deployment my-deployment` |
 | **kubectl exec** | Выполняет команду в контейнере. | Выполнение команд внутри контейнеров для диагностики и управления. | kubelet | `kubectl exec -it my-pod -- /bin/bash` |
 | **kubectl logs** | Показывает логи контейнера. | Просмотр логов контейнеров для диагностики. | kubelet | `kubectl logs my-pod` |
 | **kubectl port-forward** | Перенаправляет порт из кластера на локальную машину. | Доступ к сервисам в кластере через локальную машину. | kube-apiserver, kubelet | `kubectl port-forward my-pod 8080:80` |
 | **kubectl scale** | Масштабирует количество реплик пода. | Изменение количества реплик для деплойментов или репликасетов. | kube-apiserver, kube-controller-manager | `kubectl scale deployment my-deployment --replicas=3` |
 | **kubectl rollout** | Управляет развертыванием и откатом ресурсов. | Просмотр состояния развертывания и управление откатами. | kube-apiserver, kube-controller-manager | `kubectl rollout status deployment my-deployment` |
 | **kubectl config** | Управляет конфигурацией kubectl. | Настройка конфигурации для взаимодействия с кластером. | kubectl | `kubectl config set-context my-context --cluster=my-cluster --user=my-user` |
 | **kubectl cluster-info** | Показывает информацию о кластере. | Просмотр информации о кластере и его компонентах. | kube-apiserver | `kubectl cluster-info` |
 | **kubectl top** | Показывает использование ресурсов (CPU, память) подов и узлов. | Мониторинг использования ресурсов. | kube-apiserver, kubelet | `kubectl top pods` |
 | **kubectl cordon** | Помечает узел как недоступный для новых подов. | Предотвращение развертывания новых подов на узле перед обслуживанием. | kube-apiserver, kubelet | `kubectl cordon my-node` |
 | **kubectl drain** | Удаляет все поды с узла перед его обслуживанием. | Подготовка узла к обслуживанию путем удаления всех подов. | kube-apiserver, kubelet | `kubectl drain my-node --ignore-daemonsets` |
 | **kubectl uncordon** | Удаляет метку недоступности с узла. | Возвращение узла в рабочее состояние после обслуживания. | kube-apiserver, kubelet | `kubectl uncordon my-node` |
 | **kubectl taint** | Добавляет или удаляет загрязнения (taints) с узлов. | Управление загрязнениями для контроля развертывания подов на узлах. | kube-apiserver, kubelet | `kubectl taint nodes my-node key=value:NoSchedule` |
 | **kubectl label** | Добавляет или удаляет метки с ресурсов. | Управление метками для организации и фильтрации ресурсов. | kube-apiserver | `kubectl label pods my-pod key=value` |
 | **kubectl annotate** | Добавляет или удаляет аннотации с ресурсов. | Управление аннотациями для хранения метаданных. | kube-apiserver | `kubectl annotate pods my-pod key=value` |

